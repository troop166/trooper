{% load i18n %}
{% if members_are_related or phone_numbers|length %}
  <div class="d-flex justify-content-between align-items-center">
    <h3 class="card-title fs-6">
      {% blocktranslate count counter=phone_numbers|length %}
        Phone Number
        {% plural %}
        Phone Numbers
      {% endblocktranslate %}
    </h3>
    {% if members_are_related %}
      <button class="btn btn-link btn-sm me-2" aria-label="{% translate 'add' %}">
        <i class="bi bi-plus-circle-fill"></i>
      </button>
    {% endif %}
  </div>
  <div id="phone-number-form"></div>
  <ul class="list-group list-group-flush list-icons mb-4" id="phone-number-list">
    {% for phone in phone_numbers %}
      <li class="list-group-item {% if not phone.is_published %}list-group-item-light{% endif %} d-flex justify-content-between align-items-start"
          id="phone-{{ phone.pk }}">
        <div class="me-auto">
          <span class="list-icons-icon">
            {% if phone.label == phone.Label.HOME %}
              <i class="bi bi-house"></i>
            {% elif phone.label == phone.Label.MOBILE %}
              <i class="bi bi-phone"></i>
            {% elif phone.label == phone.Label.WORK %}
              <i class="bi bi-building"></i>
            {% else %}
              <i class="bi bi-telephone"></i>
            {% endif %}
          </span>
          <a href="tel:{{ phone.number.as_e164 }}" class="card-link text-decoration-none">{{ phone }}</a>
        </div>
        {% if members_are_related %}
          <div class="btn-group" role="group" aria-label="{% translate 'Phone number editing buttons' %}">
            <button class="btn btn-outline-secondary btn-sm"
                    hx-trigger="click"
                    hx-get=""
                    hx-target="#phone-{{ phone.pk }}"
                    aria-label="{% translate 'edit' %}">
              <i class="bi bi-pencil-square"></i>
            </button>
            <a class="btn btn-outline-danger btn-sm"
               href=""
               hx-delete=""
               hx-confirm=""
               hx-target="#phone-{{ phone.pk }}"
               hx-swap="outerHTML"
              {% translate 'delete' %}>
              <i class="bi bi-trash"></i>
            </a>
          </div>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}
